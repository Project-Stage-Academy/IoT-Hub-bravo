# ===============================
# Notes
# ===============================
# - This file is intended as an example and should be copied to `.env` before use.
# - Override values in `.env` for local development or Docker deployment as needed.
# - Keep SECRET_KEY secret in production.

# ===============================
# Docker Compose Configuration
# ===============================

# project name for docker-compose.yml
COMPOSE_PROJECT_NAME=iot-hub

# ===============================
# Django Settings
# ===============================
# Generate a new secret key: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=django-insecure-change-this-in-production-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# For local/dev — True (shows errors). For staging/prod — False.
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,web,

# ===============================
# Database Configuration
# ===============================

# Database name, user, and password
DB_NAME=iot_hub_db
DB_USER=iot_user_db
DB_PASSWORD=iot_password

# Enable TimescaleDB extension (set to true to use TimescaleDB features)
ENABLE_TIMESCALEDB=false #NOTE: use lowercase true/false

# Enable Seed Data on startup (set to true to populate initial data)
ENABLE_SEED_DATA=false #NOTE: use lowercase true/false

# Database host:
# - For local launch without Docker: use DB_HOST=localhost
#   (make sure PostgreSQL is installed locally, database and user are created)
# - For Docker Compose launch: use DB_HOST=db
DB_HOST=db
DB_PORT=5432

# ===============================
# CORS Configuration
# ===============================
# Set to True only for development (allows all origins)
CORS_ALLOW_ALL_ORIGINS=False

# Comma-separated list of allowed origins (used when CORS_ALLOW_ALL_ORIGINS=False)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000

# ===============================
# Admin / Dev Users (DEV & TEST ONLY)
# ===============================

# Allow running setup_admin command.
# NEVER enable this in production.
ALLOW_SETUP_ADMIN=true

# ---- Superuser ----
DEV_SUPERUSER_USERNAME=superadmin
DEV_SUPERUSER_EMAIL=superadmin@example.com
DEV_SUPERUSER_PASSWORD=nothardcodedpassword

# ---- Admin role user ----
DEV_ADMIN_USERNAME=admin_user
DEV_ADMIN_EMAIL=admin_user@example.com
DEV_ADMIN_PASSWORD=admin123

# ---- Operator role user ----
DEV_OPERATOR_USERNAME=operator_user
DEV_OPERATOR_EMAIL=operator@example.com
DEV_OPERATOR_PASSWORD=operator123

# ---- Viewer role user ----
DEV_VIEWER_USERNAME=viewer_user
DEV_VIEWER_EMAIL=viewer@example.com
DEV_VIEWER_PASSWORD=viewer123

# ===============================
# Redis Configuration
# ===============================

# For Docker Compose launch: use REDIS_HOST=redis
# For local launch without Docker: use REDIS_HOST=127.0.0.1
REDIS_HOST=redis
REDIS_PORT=6379

# ===============================
# Celery Configuration
# ===============================

# For Docker Compose launch: use redis://redis:6379/0
# For local launch without Docker: redis://127.0.0.1:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# positive integer value - number of tasks executed in parallel
CELERY_CONCURRENCY=2

# ===============================
# Flower (Celery monitoring UI)
# ===============================
CELERY_FLOWER_USER=your-flower-user
CELERY_FLOWER_PASSWORD=your-flower-password

# ===============================
# Django log levels
# DEBUG     - detailed logs (development only)
# INFO      - general application info
# WARNING   - non-critical issues
# ERROR     - errors that affect requests
# CRITICAL  - system-critical failures
# ===============================
DJANGO_LOG_LEVEL=INFO

# ==============================
# Grafana admin user
# ==============================
GRAFANA_ADMIN_USER=CHANGE_ME
GRAFANA_ADMIN_PASSWORD=CHANGE_ME
